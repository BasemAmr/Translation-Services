const e=(e={})=>{let t=Object.freeze({...e});const n=[];return Object.freeze({getState:()=>t,setState:e=>{const o="function"==typeof e?e(t):{...t,...e};t=Object.freeze(o),n.forEach(e=>e(t))},subscribe:e=>(n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)})})},t=e({isLoading:!0,navigationOpen:!1,componentsLoaded:{navigation:!1,footer:!1,hero:!1,trust:!1,services:!1,quality:!1,pricing:!1,testimonials:!1}}),n=(...e)=>t=>e.reduce((e,t)=>t(e),t),o=(...e)=>t=>e.reduceRight((e,t)=>t(e),t),i=e=>document.querySelector(e),r=e=>Array.from(document.querySelectorAll(e)),a={webComponents:"customElements"in window,serviceWorker:"serviceWorker"in navigator,intersectionObserver:"IntersectionObserver"in window,webGL:(()=>{try{const e=document.createElement("canvas");return!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}})()},s=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e.apply(null,o),t)}},c=(e,t)=>{let n;return(...o)=>{n||(e.apply(null,o),n=!0,setTimeout(()=>n=!1,t))}},d=(()=>{const e=new Map;return Object.freeze({register:(t,n)=>{e.set(t,n)},dispatch:(t,n)=>{const o=e.get(t.type||t);if(o)return o(n)}})})();d.register("TOGGLE_NAVIGATION",()=>{t.setState(e=>({...e,navigationOpen:!e.navigationOpen}))}),d.register("COMPONENT_LOADED",e=>{t.setState(t=>({...t,componentsLoaded:{...t.componentsLoaded,[e]:!0}}))}),d.register("SET_LOADING",e=>{t.setState(t=>({...t,isLoading:e}))});const l=()=>{r('a[href^="#"]').forEach(e=>{e.addEventListener("click",n=>{n.preventDefault();const o=e.getAttribute("href").slice(1),r=i(`#${o}`);r&&(r.scrollIntoView({behavior:"smooth",block:"start"}),t.setState(e=>({...e,navigationOpen:!1})))})})},p=()=>{if(!a.intersectionObserver)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("is-visible"),e.unobserve(t.target))})},{threshold:.1,rootMargin:"50px"});return r(".animate-on-scroll").forEach(t=>e.observe(t)),e},m=async()=>{if(a.webComponents)try{(await Promise.allSettled([import("./components/Navigation.js"),import("./components/Footer.js"),import("./components/HeroSection.js"),import("./components/TrustBadges.js"),import("./components/ServicesGrid.js"),import("./components/QualityProcess.js"),import("./components/PricingCalculator.js"),import("./components/TestimonialsCarousel.js")])).forEach((e,t)=>{if("fulfilled"===e.status){const e=["navigation","footer","hero","trust","services","quality","pricing","testimonials"];d.dispatch("COMPONENT_LOADED",e[t])}}),(()=>{const e=i("#site-header");if(e&&!e.querySelector("main-navigation")){e.innerHTML="";const t=document.createElement("main-navigation");e.appendChild(t),d.dispatch("COMPONENT_LOADED","navigation")}})(),(()=>{const e=i("#site-footer");if(e&&!e.querySelector("main-footer")){e.innerHTML="";const t=document.createElement("main-footer");e.appendChild(t),d.dispatch("COMPONENT_LOADED","footer")}})()}catch(e){}},u=async()=>{try{window.addEventListener("error",e=>{document.body.classList.add("js-error"),d.dispatch("SET_LOADING",!1)}),window.addEventListener("unhandledrejection",e=>{});(()=>{if(!window.performance)return;const e={navigationStart:performance.timing.navigationStart,loadComplete:null,firstPaint:null,firstContentfulPaint:null};window.addEventListener("load",()=>{e.loadComplete=performance.now()}),"getEntriesByType"in performance&&performance.getEntriesByType("paint").forEach(t=>{"first-paint"===t.name?e.firstPaint=t.startTime:"first-contentful-paint"===t.name&&(e.firstContentfulPaint=t.startTime)})})();(()=>{const e=i(".mobile-menu-toggle"),n=i(".nav-menu");if(!e||!n)return;t.subscribe(t=>{t.navigationOpen?(n.classList.add("is-open"),e.setAttribute("aria-expanded","true")):(n.classList.remove("is-open"),e.setAttribute("aria-expanded","false"))}),e.addEventListener("click",()=>{d.dispatch("TOGGLE_NAVIGATION")}),document.addEventListener("click",o=>{e.contains(o.target)||n.contains(o.target)||t.setState(e=>({...e,navigationOpen:!1}))}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.setState(e=>({...e,navigationOpen:!1}))})})(),window.addEventListener("load",()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{l(),p()}):setTimeout(()=>{l(),p()},200)}),await m(),d.dispatch("SET_LOADING",!1)}catch(e){d.dispatch("SET_LOADING",!1)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",u):u();export{t as appStore,d as commandBus,a as hasSupport,e as createStore,n as pipe,o as compose,s as debounce,c as throttle};"serviceWorker"in navigator&&"https:"===window.location.protocol&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{}).catch(e=>{})});